{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marci\\\\Desktop\\\\alert\\\\frontend\\\\src\\\\pages\\\\dashboard\\\\dashboard.js\";\nimport React, { useEffect, useState } from 'react';\nimport { isAuthenticated, getToken } from \"../../services/auth\";\nimport api from '../../services/api.js';\nimport $ from \"jquery\";\nexport default function Dashboard({\n  history\n}) {\n  useEffect(() => {\n    if (!isAuthenticated()) {\n      history.push('/login');\n    }\n  }, []);\n  const [alerts, setAlerts] = useState([]);\n  const [userLogged, setUserLogged] = useState([]);\n  useEffect(() => {\n    async function loadAlerts() {\n      const response = await api.get('/allAlerts');\n      console.log(response);\n      setAlerts(response.data.alerts);\n    }\n\n    loadAlerts();\n\n    async function loadUserLogged() {\n      const response = await api.get('/user');\n      console.log(response);\n      setAlerts(response.data.alerts);\n    }\n\n    loadUserLogged();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box_alerts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, \"Alertas \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 48\n    }\n  }, \"(total de \", alerts.length, \" alertas)\")), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 29\n    }\n  }, \"T\\xEDtutlo\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, \"Conte\\xFAdo\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 29\n    }\n  }, \"Data\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 29\n    }\n  }, \"Autor\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, alerts.map(alert => /*#__PURE__*/React.createElement(\"tr\", {\n    key: alert._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 33\n    }\n  }, alert.title), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 33\n    }\n  }, alert.text), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }, alert.date_exhibition), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 33\n    }\n  }, alert.user))))))));\n}","map":{"version":3,"sources":["C:/Users/marci/Desktop/alert/frontend/src/pages/dashboard/dashboard.js"],"names":["React","useEffect","useState","isAuthenticated","getToken","api","$","Dashboard","history","push","alerts","setAlerts","userLogged","setUserLogged","loadAlerts","response","get","console","log","data","loadUserLogged","length","map","alert","_id","title","text","date_exhibition","user"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAASC,eAAT,EAA0BC,QAA1B,QAA0C,qBAA1C;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,eAAe,SAASC,SAAT,CAAmB;AAACC,EAAAA;AAAD,CAAnB,EAA8B;AAEzCP,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAG,CAACE,eAAe,EAAnB,EAAsB;AAClBK,MAAAA,OAAO,CAACC,IAAR,CAAa,QAAb;AACH;AACJ,GAJQ,EAIN,EAJM,CAAT;AAMA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBT,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACU,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,EAAD,CAA5C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,mBAAea,UAAf,GAA2B;AACvB,YAAMC,QAAQ,GAAG,MAAMV,GAAG,CAACW,GAAJ,CAAQ,YAAR,CAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAJ,MAAAA,SAAS,CAACI,QAAQ,CAACI,IAAT,CAAcT,MAAf,CAAT;AACH;;AAEDI,IAAAA,UAAU;;AAEV,mBAAeM,cAAf,GAA+B;AAC3B,YAAML,QAAQ,GAAG,MAAMV,GAAG,CAACW,GAAJ,CAAQ,OAAR,CAAvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACAJ,MAAAA,SAAS,CAACI,QAAQ,CAACI,IAAT,CAAcT,MAAf,CAAT;AACH;;AAEDU,IAAAA,cAAc;AACjB,GAhBQ,EAgBN,EAhBM,CAAT;AAmBA,sBACI,uDACA;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAiBV,MAAM,CAACW,MAAxB,cAA/B,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJJ,CADJ,CADJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKX,MAAM,CAACY,GAAP,CAAWC,KAAK,iBACb;AAAI,IAAA,GAAG,EAAEA,KAAK,CAACC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKD,KAAK,CAACE,KAAX,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,KAAK,CAACG,IAAX,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKH,KAAK,CAACI,eAAX,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKJ,KAAK,CAACK,IAAX,CAJJ,CADH,CADL,CATJ,CAFJ,CADJ,CADA,CADJ;AA6BH","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { isAuthenticated, getToken } from \"../../services/auth\";\r\nimport api from '../../services/api.js';\r\nimport $ from \"jquery\";\r\n\r\nexport default function Dashboard({history}) {\r\n\r\n    useEffect(() => {\r\n        if(!isAuthenticated()){\r\n            history.push('/login');\r\n        }\r\n    }, []);\r\n\r\n    const [alerts, setAlerts] = useState([]);\r\n    const [userLogged, setUserLogged] = useState([]);\r\n\r\n    useEffect(() => {\r\n        async function loadAlerts(){\r\n            const response = await api.get('/allAlerts');\r\n            console.log(response);\r\n            setAlerts(response.data.alerts);\r\n        }\r\n\r\n        loadAlerts();\r\n\r\n        async function loadUserLogged(){\r\n            const response = await api.get('/user');\r\n            console.log(response);\r\n            setAlerts(response.data.alerts);\r\n        }\r\n\r\n        loadUserLogged();\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <>\r\n        <div className=\"container\">\r\n            <div className=\"box_alerts\">\r\n                <div className=\"title\">Alertas <span>(total de {alerts.length} alertas)</span></div>\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Títutlo</th>\r\n                            <th>Conteúdo</th>\r\n                            <th>Data</th>\r\n                            <th>Autor</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {alerts.map(alert => (\r\n                            <tr key={alert._id}>\r\n                                <td>{alert.title}</td>\r\n                                <td>{alert.text}</td>\r\n                                <td>{alert.date_exhibition}</td>\r\n                                <td>{alert.user}</td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        </>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}