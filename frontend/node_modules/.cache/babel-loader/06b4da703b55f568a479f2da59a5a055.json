{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marci\\\\Desktop\\\\alert\\\\frontend\\\\src\\\\pages\\\\alert\\\\alert.js\";\nimport React, { useEffect } from 'react';\nimport api from '../../services/api.js';\nimport { useInterval } from '../../services/polling.js';\nimport $ from \"jquery\";\nexport default function Alert() {\n  useEffect(() => {\n    getAlert();\n  }, []);\n\n  function getAlert() {\n    api.get('/alert').then(function (response) {\n      const data = response.data;\n\n      if (data.count > 0) {\n        for (var i = 0; i < data.count; i++) {\n          $(\"body\").append('<div class=\"modal\"><div class=\"box ' + data.alerts[i].type + '\"><div class=\"header\"></div><div class=\"title\">' + data.alerts[i].title + '</div><div class=\"text\">' + data.alerts[i].text + '</div><div class=\"button\">OK</div></div></div>');\n        }\n\n        $(\".modal\").each(function () {\n          var modal_self = $(this);\n          $(this).find(\".button\").click(function () {\n            modal_self.fadeOut(200, function () {\n              modal_self.remove();\n            });\n          });\n        });\n      }\n    });\n  }\n\n  useInterval(() => {\n    getAlert();\n  }, 10000);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, \"Esperando um novo alerta!\", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 42\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"a\", /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 15\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/marci/Desktop/alert/frontend/src/pages/alert/alert.js"],"names":["React","useEffect","api","useInterval","$","Alert","getAlert","get","then","response","data","count","i","append","alerts","type","title","text","each","modal_self","find","click","fadeOut","remove"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,SAASC,WAAT,QAA4B,2BAA5B;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,eAAe,SAASC,KAAT,GAAiB;AAC5BJ,EAAAA,SAAS,CAAC,MAAM;AACZK,IAAAA,QAAQ;AACX,GAFQ,EAEN,EAFM,CAAT;;AAIA,WAASA,QAAT,GAAmB;AACfJ,IAAAA,GAAG,CAACK,GAAJ,CAAQ,QAAR,EACCC,IADD,CACM,UAAUC,QAAV,EAAoB;AACxB,YAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAtB;;AACA,UAAGA,IAAI,CAACC,KAAL,GAAa,CAAhB,EAAkB;AAChB,aAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGF,IAAI,CAACC,KAAxB,EAA+BC,CAAC,EAAhC,EAAoC;AAClCR,UAAAA,CAAC,CAAC,MAAD,CAAD,CAAUS,MAAV,CAAiB,wCAAsCH,IAAI,CAACI,MAAL,CAAYF,CAAZ,EAAeG,IAArD,GAA0D,iDAA1D,GAA4GL,IAAI,CAACI,MAAL,CAAYF,CAAZ,EAAeI,KAA3H,GAAiI,0BAAjI,GAA4JN,IAAI,CAACI,MAAL,CAAYF,CAAZ,EAAeK,IAA3K,GAAgL,gDAAjM;AACD;;AACDb,QAAAA,CAAC,CAAC,QAAD,CAAD,CAAYc,IAAZ,CAAiB,YAAU;AACzB,cAAIC,UAAU,GAAGf,CAAC,CAAC,IAAD,CAAlB;AACAA,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQgB,IAAR,CAAa,SAAb,EAAwBC,KAAxB,CAA8B,YAAU;AACtCF,YAAAA,UAAU,CAACG,OAAX,CAAmB,GAAnB,EAAwB,YAAU;AAChCH,cAAAA,UAAU,CAACI,MAAX;AACD,aAFD;AAGD,WAJD;AAKD,SAPD;AAQD;AACF,KAhBD;AAiBH;;AAEDpB,EAAAA,WAAW,CAAC,MAAM;AACdG,IAAAA,QAAQ;AACX,GAFU,EAER,KAFQ,CAAX;AAIA,sBACI,uDACI;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAC6B;AAAG,IAAA,KAAK,EAAC,YAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAD7B,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACE;AAAG,IAAA,KAAK,EAAC,YAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJJ,CADJ;AAUH","sourcesContent":["import React, {useEffect} from 'react';\r\nimport api from '../../services/api.js';\r\nimport { useInterval } from '../../services/polling.js';\r\nimport $ from \"jquery\";\r\n\r\nexport default function Alert() {\r\n    useEffect(() => {\r\n        getAlert();\r\n    }, []);\r\n\r\n    function getAlert(){\r\n        api.get('/alert')\r\n        .then(function (response) {\r\n          const data = response.data;\r\n          if(data.count > 0){\r\n            for(var i = 0; i < data.count; i++) {\r\n              $(\"body\").append('<div class=\"modal\"><div class=\"box '+data.alerts[i].type+'\"><div class=\"header\"></div><div class=\"title\">'+data.alerts[i].title+'</div><div class=\"text\">'+data.alerts[i].text+'</div><div class=\"button\">OK</div></div></div>');\r\n            }\r\n            $(\".modal\").each(function(){\r\n              var modal_self = $(this);\r\n              $(this).find(\".button\").click(function(){\r\n                modal_self.fadeOut(200, function(){\r\n                  modal_self.remove();\r\n                });\r\n              });\r\n            });\r\n          }\r\n        });\r\n    }  \r\n      \r\n    useInterval(() => {\r\n        getAlert();\r\n    }, 10000);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"App\">\r\n                Esperando um novo alerta!<i class=\"fa fa-user\"></i>\r\n            </div>\r\n            <div>a\r\n              <i class=\"fa fa-user\"></i>\r\n            </div>\r\n        </>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}